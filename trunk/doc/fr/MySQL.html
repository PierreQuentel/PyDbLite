<html>

<head>
<title>PyDbLite</title>
<link rel="stylesheet" href="../pydblite.css">
</head>

<body>

<table width="100%" cellspacing="0" cellpadding="10">

<tr>
	<td class="navigation" align="center"><img src="../img/banniere.jpg"></td>
	<td class="lnk" align="right"><a class="langue" href="../en/MySQL.html">English</a></td>
</tr>

</table>

<table width="100%" cellspacing="0" cellpadding="0">
<tr>
	<td class="menu">
	<div id="niveau1">Documentation</div>
		<div id="niveau2">
		<a href="index.html">Accueil</a>
		<br><a href="PyDbLite.html">Moteur pur-Python</a>
		<br><a href="SQLite.html">Adapteur SQLite </a>
		<br><a href="MySQL.html">Adapteur MySQL</a>
		</div>

	<div id="niveau1">Contacts</div>
		<div id="niveau2">
		<a href="http://groups.google.com/group/pydblite">Communauté</a>
		<br><a href="contact.html">Mail</a>
		</div>

	<div id="niveau1">Code</div>
		<div id="niveau2">
		<a href="http://sourceforge.net/project/platformdownload.php?group_id=210258">Téléchargement</a>
		<br><a href="http://pydblite.svn.sourceforge.net/viewvc/pydblite">Parcourir SVN</a>
		</div>
	<div id="niveau1">
		<a href="bench.html">Comparaisons</a>
		</div>
	<div id="niveau1">
		<a href="licence.html">Licence</a>
		</div>
	<div id="fill">&nbsp;<br>&nbsp;<br>&nbsp;<br>
		&nbsp;<br>&nbsp;<br>&nbsp;<br>
		&nbsp;<br>&nbsp;<br>&nbsp;<br>
		&nbsp;<br>&nbsp;<br>&nbsp;<br>
	</div>
	</td>
<td class="content">
<h2>Adaptateur MySQL</h2>
<p>La seule différence avec le module en pur Python est la syntaxe pour identifier une <code>Base</code> et la nécessité de spécifier le type des champs quand on crée une base

<p>Pour rester compatible avec le vocabulaire de MySQL, le module définit trois classes, <code>Connection, Database</code> et <code>Table</code>
<p><code><b>Connection</b>(<i>hote,identifiant,mot_de_passe</i>)</code> : renvoie une connectin au serveur MySQL
<p>Les instances de <code>Connection</code> supportent 2 méthodes :
<ul>
<li><code>databases()</code> : renvoie la liste des noms de bases de données
<li><code>create(<i>nom_bdd</i>)</code> : crée une base de données appelée <i>nom_bdd</i> et renvoie l'instance de la classe <code>Database</code>
</ul>
<p><code><b>Database</b>(<i>nom_bdd, connection</i>)</code> : renvoie la base de données <i>nom_bdd</i> pour la <i>connection</i> spécifiée
<p>Les instances de <code>Database</code> supportent 2 méthodes:
<ul>
<li><code>tables()</code> : renvoie la liste des noms de tables dans la base de données
<li><code>drop()</code> : efface la base de données
</ul>
<p><code><b>Table</b>(<i>nom_table,bdd</i>)</code> : <i>nom_table</i> est le nom de la table, <i>bdd</i> est l'instance de <code>Database</code>

<p>Pour manipuler une table, on utilise la même syntaxe que dans PyDbLite :
<ul>
<li>pour créer une tables il faut spécifier un type de champ de MySQL : <code>INTEGER, REAL, DATETIME, CHAR, BLOB,</code>etc. :<br>
<div class="python">table.create(('nom','CHAR(20)'),('age','INTEGER'),('taille','REAL'))</div>
<li>s'il faut fournir d'autres informations, les mettre dans un second argument, en utilisant la syntaxe SQL propre à MySQL :
<div class="python">table.create(('recid','INTEGER PRIMARY KEY AUTO_INCREMENT'),
<br>&nbsp;&nbsp;&nbsp;&nbsp;    ('date','TIMESTAMP DEFAULT CURRENT_TIMESTAMP'))</div>

</ul>


<p>Pour l'insertion, la sélection, la mise à jour et la suppression, la syntaxe est la même que ci-dessus
<p>La sélection par identifiant d'enregistrement ne fonctionne que si un champ <code>INTEGER PRIMARY KEY AUTO_INCREMENT</code> est présent dans la table ; les fonctions <code>delete()</code> et <code>update()</code> requièrent aussi ce champ

<p>L'instance de <code>Base</code> a un attribute <code>cursor</code>, ce qui permet d'exécuter des commandes SQL par <span class="python">db.cursor.execute(expression_sql)</span> et récupérer le résultat par <span class="python">results = db.cursor.fetchall()</span>


</td>
</tr>
</table>

</body>
</html>